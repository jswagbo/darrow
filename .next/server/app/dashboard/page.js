(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1568:e=>{"use strict";e.exports=require("zlib")},6665:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>x,pages:()=>o,routeModule:()=>m,tree:()=>d}),s(7490),s(4545),s(9252);var a=s(5734),r=s(3589),i=s(2062),l=s.n(i),n=s(3690),c={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>n[e]);s.d(t,c);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,7490)),"/Users/jeffnwagbo/AI Law Firm/constructa-starter-min-main/src/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,4545)),"/Users/jeffnwagbo/AI Law Firm/constructa-starter-min-main/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9252,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/jeffnwagbo/AI Law Firm/constructa-starter-min-main/src/app/dashboard/page.tsx"],x="/dashboard/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},8236:(e,t,s)=>{Promise.resolve().then(s.bind(s,7475))},627:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(1476).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},7475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>C});var a=s(7094),r=s(8545),i=s(8104),l=s(1476);let n=(0,l.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var c=s(5127);let d=(0,l.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,l.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,l.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var h=s(627);let m=(0,l.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=s(2816),p=s(6783),g=s(6953);function y({className:e,variant:t="default",width:s,height:r,lines:i=1,...l}){let n="skeleton bg-gray-800 animate-pulse";return"text"===t&&i>1?a.jsx("div",{className:(0,g.cn)("space-y-2",e),...l,children:Array.from({length:i}).map((e,t)=>a.jsx("div",{className:(0,g.cn)(n,"h-4 rounded",t===i-1?"w-3/4":"w-full"),style:{width:t===i-1?"75%":s,height:r||"1rem"}},t))}):a.jsx("div",{className:(0,g.cn)(n,{default:"rounded",text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-none"}[t],e),style:{width:s,height:r},...l})}function j(){return a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)("div",{className:"card-glossy p-6 rounded-lg animate-fade-in",children:[a.jsx(y,{variant:"text",width:100,height:12,className:"mb-2"}),a.jsx(y,{variant:"text",width:60,height:32})]},t))})}function f(){return a.jsx("div",{className:"space-y-1",children:Array.from({length:5}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 animate-fade-in",style:{animationDelay:`${.1*t}s`},children:[a.jsx(y,{variant:"circular",width:40,height:40}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[a.jsx(y,{variant:"text",width:"60%",height:16}),a.jsx(y,{variant:"text",width:"40%",height:12})]}),a.jsx(y,{variant:"text",width:80,height:12}),a.jsx(y,{variant:"text",width:100,height:12}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(y,{variant:"rectangular",width:24,height:24,className:"rounded"}),a.jsx(y,{variant:"rectangular",width:24,height:24,className:"rounded"}),a.jsx(y,{variant:"rectangular",width:24,height:24,className:"rounded"})]})]},t))})}function v(){return(0,a.jsxs)("div",{className:"flex items-center justify-between py-6 animate-fade-in",children:[(0,a.jsxs)("div",{children:[a.jsx(y,{variant:"text",width:200,height:24,className:"mb-2"}),a.jsx(y,{variant:"text",width:300,height:16})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(y,{variant:"rectangular",width:100,height:24,className:"rounded"}),a.jsx(y,{variant:"rectangular",width:140,height:40,className:"rounded"})]})]})}let N=(0,l.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),b=(0,l.Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function w({text:e,children:t,className:s,variant:i="icon",size:l="md",onCopy:n}){let[c,d]=(0,r.useState)(!1),[o,x]=(0,r.useState)(!1),h=async()=>{try{await navigator.clipboard.writeText(e),d(!0),x(!0),n?.(),setTimeout(()=>{x(!1),setTimeout(()=>d(!1),1e3)},200)}catch(s){console.error("Failed to copy text:",s);let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.select();try{document.execCommand("copy"),d(!0),x(!0),n?.()}catch(e){console.error("Fallback copy failed:",e)}document.body.removeChild(t)}},m={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return"icon"===i?a.jsx("button",{onClick:h,className:(0,g.cn)("p-2 rounded transition-all duration-200 hover:bg-silver hover:bg-opacity-20","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50",o&&"scale-110",s),title:c?"Copied!":"Copy to clipboard","aria-label":c?"Copied to clipboard":"Copy to clipboard",children:c?a.jsx(N,{className:(0,g.cn)(m[l],"text-green-400 animate-scale-in")}):a.jsx(b,{className:(0,g.cn)(m[l],"text-gray-light hover:text-silver")})}):"button"===i?a.jsx("button",{onClick:h,className:(0,g.cn)("inline-flex items-center gap-2 px-3 py-2 rounded transition-all duration-200","bg-black border border-silver text-silver hover:bg-silver hover:text-black","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50",o&&"scale-105",s),disabled:o,children:c?(0,a.jsxs)(a.Fragment,{children:[a.jsx(N,{className:(0,g.cn)(m[l],"text-green-400 animate-scale-in")}),a.jsx("span",{children:"Copied!"})]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(b,{className:m[l]}),a.jsx("span",{children:t||"Copy"})]})}):(0,a.jsxs)("button",{onClick:h,className:(0,g.cn)("inline-flex items-center gap-1 text-silver hover:text-white transition-colors","border-b border-dotted border-silver hover:border-white","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50 rounded",o&&"animate-pulse",s),children:[a.jsx("span",{children:t||e}),c?a.jsx(N,{className:(0,g.cn)(m[l],"text-green-400 animate-scale-in")}):a.jsx(b,{className:(0,g.cn)(m[l],"opacity-60")})]})}function k({id:e,className:t}){return(0,a.jsxs)("div",{className:(0,g.cn)("inline-flex items-center gap-2 text-sm",t),children:[(0,a.jsxs)("span",{className:"font-mono text-gray-light",children:[e.slice(0,8),"..."]}),a.jsx(w,{text:e,variant:"icon",size:"sm",className:"opacity-60 hover:opacity-100"})]})}var _=s(538),z=s(5788);function C(){let[e,t]=(0,r.useState)([]),[s,l]=(0,r.useState)({totalDocs:0,completedDocs:0,draftDocs:0,dailyUsage:{docs_created:0,docs_remaining:3}}),[y,N]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),C=async e=>{try{let[{data:t},s]=await Promise.all([_.O.from("docs").select("status").eq("user_id",e),(0,z.TA)(e)]),a=t?.length||0,r=t?.filter(e=>"completed"===e.status).length||0,i=t?.filter(e=>"draft"===e.status).length||0;l({totalDocs:a,completedDocs:r,draftDocs:i,dailyUsage:s})}catch(e){console.error("Error fetching stats:",e)}},D=async s=>{if(confirm("Are you sure you want to delete this document?"))try{let{error:a}=await _.O.from("docs").delete().eq("id",s);if(a)throw a;t(e.filter(e=>e.id!==s)),b&&await C(b.id)}catch(e){console.error("Error deleting document:",e)}},q=e=>{switch(e){case"completed":return"text-green-400";case"generating":return"text-yellow-400";case"draft":default:return"text-gray-light";case"error":return"text-red-400"}},M=e=>{switch(e){case"completed":return"✓";case"generating":return"⏳";case"draft":default:return"\uD83D\uDCDD";case"error":return"❌"}};return y?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx("header",{className:"border-b border-gray-light",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx(v,{})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx(j,{}),(0,a.jsxs)("div",{className:"card-glossy rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-light",children:a.jsx("div",{className:"h-6 w-48 skeleton rounded animate-fade-in"})}),a.jsx(f,{})]})]})]}):b?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[a.jsx("header",{className:"border-b border-gray-light",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),a.jsx("p",{className:"text-gray-light mt-1",children:"Manage your legal documents"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx(p.N,{docsCreated:s.dailyUsage.docs_created,docsRemaining:s.dailyUsage.docs_remaining,compact:!0}),a.jsx(i.default,{href:"/new",children:(0,a.jsxs)(u.z,{className:"gap-2",children:[a.jsx(n,{size:16}),"New Document"]})})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",children:[a.jsx("h3",{className:"text-silver text-sm font-medium",children:"Total Documents"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-white mt-2",children:s.totalDocs})]}),(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.1s"},children:[a.jsx("h3",{className:"text-silver text-sm font-medium",children:"Completed"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-green-400 mt-2",children:s.completedDocs})]}),(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.2s"},children:[a.jsx("h3",{className:"text-silver text-sm font-medium",children:"Drafts"}),a.jsx("p",{className:"text-2xl lg:text-3xl font-bold text-yellow-400 mt-2",children:s.draftDocs})]}),a.jsx("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.3s"},children:a.jsx(p.N,{docsCreated:s.dailyUsage.docs_created,docsRemaining:s.dailyUsage.docs_remaining})})]}),(0,a.jsxs)("div",{className:"card-glossy rounded-lg overflow-hidden",children:[a.jsx("div",{className:"px-6 py-4 border-b border-gray-light",children:a.jsx("h2",{className:"text-xl font-semibold text-white",children:"Your Documents"})}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(c.Z,{className:"mx-auto h-12 w-12 text-gray-light mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-white mb-2",children:"No documents yet"}),a.jsx("p",{className:"text-gray-light mb-6",children:"Get started by creating your first legal document"}),a.jsx(i.default,{href:"/new",children:(0,a.jsxs)(u.z,{className:"gap-2",children:[a.jsx(n,{size:16}),"Create Document"]})})]}):a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-900",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Document"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Updated"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-light",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-900 hover:bg-opacity-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(c.Z,{className:"h-5 w-5 text-silver mr-3"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"text-sm font-medium text-white",children:e.title}),a.jsx(k,{id:e.id,className:"mt-1"})]})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-silver",children:(0,g.rh)(e.doc_type)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:`inline-flex items-center gap-1 text-sm ${q(e.status)}`,children:[M(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-light",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx(d,{size:12}),(0,g.o0)(e.updated_at)]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(i.default,{href:`/doc/${e.id}`,children:a.jsx(u.z,{variant:"ghost",size:"sm",children:a.jsx(o,{size:14})})}),a.jsx(i.default,{href:`/doc/${e.id}/edit`,children:a.jsx(u.z,{variant:"ghost",size:"sm",children:a.jsx(x,{size:14})})}),e.docx_url&&a.jsx(u.z,{variant:"ghost",size:"sm",asChild:!0,children:a.jsx("a",{href:e.docx_url,download:!0,children:a.jsx(h.Z,{size:14})})}),a.jsx(u.z,{variant:"ghost",size:"sm",onClick:()=>D(e.id),className:"text-red-400 hover:text-red-300",children:a.jsx(m,{size:14})})]})})]},e.id))})]})})]})]})]}):a.jsx("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("h1",{className:"text-2xl font-bold text-white mb-4",children:"Please Sign In"}),a.jsx(i.default,{href:"/auth",className:"btn-silver px-6 py-3 rounded-lg",children:"Sign In"})]})})}},7490:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(5225).createProxy)(String.raw`/Users/jeffnwagbo/AI Law Firm/constructa-starter-min-main/src/app/dashboard/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[418,272,641,158,997,776],()=>s(6665));module.exports=a})();