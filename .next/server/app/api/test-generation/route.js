(()=>{var e={};e.id=533,e.ids=[533],e.modules={399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{"use strict";e.exports=require("buffer")},4770:e=>{"use strict";e.exports=require("crypto")},7702:e=>{"use strict";e.exports=require("events")},2048:e=>{"use strict";e.exports=require("fs")},2615:e=>{"use strict";e.exports=require("http")},5240:e=>{"use strict";e.exports=require("https")},8216:e=>{"use strict";e.exports=require("net")},5315:e=>{"use strict";e.exports=require("path")},8621:e=>{"use strict";e.exports=require("punycode")},6162:e=>{"use strict";e.exports=require("stream")},2452:e=>{"use strict";e.exports=require("tls")},7360:e=>{"use strict";e.exports=require("url")},1764:e=>{"use strict";e.exports=require("util")},2623:e=>{"use strict";e.exports=require("worker_threads")},1568:e=>{"use strict";e.exports=require("zlib")},7561:e=>{"use strict";e.exports=require("node:fs")},4492:e=>{"use strict";e.exports=require("node:stream")},2477:e=>{"use strict";e.exports=require("node:stream/web")},2052:()=>{},5600:()=>{},458:(e,t,s)=>{"use strict";s.r(t),s.d(t,{originalPathname:()=>x,patchFetch:()=>g,requestAsyncStorage:()=>I,routeModule:()=>d,serverHooks:()=>h,staticGenerationAsyncStorage:()=>l});var r={};s.r(r),s.d(r,{GET:()=>p,POST:()=>m});var o=s(8967),i=s(3589),n=s(8329),a=s(8148),c=s(2133),u=s(622);async function p(e){try{let e={timestamp:new Date().toISOString(),environment:"production",deployment:"updated-api-key-v2",tests:{}};try{let t=await (0,u.S1)();e.tests.openai={success:t.success,error:t.error,apiKey:process.env.OPENAI_API_KEY?"SET":"MISSING",model:(process.env.OPENAI_MODEL||"DEFAULT").trim()}}catch(t){e.tests.openai={success:!1,error:t instanceof Error?t.message:"Unknown error"}}try{let{data:t,error:s}=await c.p.from("docs").select("count(*)",{count:"exact",head:!0}).limit(1);e.tests.database={success:!s,error:s?.message,count:t?.length||0}}catch(t){e.tests.database={success:!1,error:t instanceof Error?t.message:"Unknown error"}}try{let{data:t,error:s}=await c.p.rpc("can_create_doc",{uid:"123e4567-e89b-12d3-a456-426614174000"});e.tests.functions={success:!s,error:s?.message,result:t}}catch(t){e.tests.functions={success:!1,error:t instanceof Error?t.message:"Unknown error"}}try{let{data:t,error:s}=await c.p.storage.from("documents").list("",{limit:1});e.tests.storage={success:!s,error:s?.message,accessible:!0}}catch(t){e.tests.storage={success:!1,error:t instanceof Error?t.message:"Unknown error"}}return a.NextResponse.json(e)}catch(e){return a.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()},{status:500})}}async function m(e){return a.NextResponse.json({message:"Use GET method to run tests"},{status:405})}let d=new o.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/test-generation/route",pathname:"/api/test-generation",filename:"route",bundlePath:"app/api/test-generation/route"},resolvedPagePath:"/Users/jeffnwagbo/AI Law Firm/constructa-starter-min-main/src/app/api/test-generation/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:I,staticGenerationAsyncStorage:l,serverHooks:h}=d,x="/api/test-generation/route";function g(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:l})}},2133:(e,t,s)=>{"use strict";s.d(t,{O:()=>i,p:()=>a});var r=s(8775);let o="https://ycfwvgsumatjhycpyrqk.supabase.co",i=(0,r.eI)(o,"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljZnd2Z3N1bWF0amh5Y3B5cnFrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEyNTYxMzIsImV4cCI6MjA2NjgzMjEzMn0.jo33Y2UiF7CPr3lHte-KaHxcf12MXT3kd9QF2auZhzk",{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),n=process.env.SUPABASE_SERVICE_ROLE_KEY||"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InljZnd2Z3N1bWF0amh5Y3B5cnFrIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTI1NjEzMiwiZXhwIjoyMDY2ODMyMTMyfQ.W8aHuhzztJJsrMWWBh5hhl6eT44tEawNue08n06qoLU",a=(0,r.eI)(o,n,{auth:{autoRefreshToken:!1,persistSession:!1}})}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[418,396,609,622],()=>s(458));module.exports=r})();