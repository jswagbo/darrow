"use strict";(()=>{var e={};e.id=533,e.ids=[533],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8893:e=>{e.exports=require("buffer")},4770:e=>{e.exports=require("crypto")},7702:e=>{e.exports=require("events")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},5240:e=>{e.exports=require("https")},8216:e=>{e.exports=require("net")},5315:e=>{e.exports=require("path")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},2452:e=>{e.exports=require("tls")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},2623:e=>{e.exports=require("worker_threads")},1568:e=>{e.exports=require("zlib")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},2477:e=>{e.exports=require("node:stream/web")},458:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>q,patchFetch:()=>f,requestAsyncStorage:()=>x,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>l});var s={};t.r(s),t.d(s,{GET:()=>p,POST:()=>m});var o=t(8967),n=t(3589),a=t(8329),i=t(8148),u=t(2133),c=t(622);async function p(e){try{let e={timestamp:new Date().toISOString(),environment:"production",tests:{}};try{let r=await (0,c.S1)();e.tests.openai={success:r.success,error:r.error,apiKey:process.env.OPENAI_API_KEY?"SET":"MISSING",model:process.env.OPENAI_MODEL||"DEFAULT"}}catch(r){e.tests.openai={success:!1,error:r instanceof Error?r.message:"Unknown error"}}try{let{data:r,error:t}=await u.p.from("docs").select("count(*)",{count:"exact",head:!0}).limit(1);e.tests.database={success:!t,error:t?.message,count:r?.length||0}}catch(r){e.tests.database={success:!1,error:r instanceof Error?r.message:"Unknown error"}}try{let{data:r,error:t}=await u.p.rpc("can_create_doc",{uid:"123e4567-e89b-12d3-a456-426614174000"});e.tests.functions={success:!t,error:t?.message,result:r}}catch(r){e.tests.functions={success:!1,error:r instanceof Error?r.message:"Unknown error"}}try{let{data:r,error:t}=await u.p.storage.from("documents").list("",{limit:1});e.tests.storage={success:!t,error:t?.message,accessible:!0}}catch(r){e.tests.storage={success:!1,error:r instanceof Error?r.message:"Unknown error"}}return i.NextResponse.json(e)}catch(e){return i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error",timestamp:new Date().toISOString()},{status:500})}}async function m(e){return i.NextResponse.json({message:"Use GET method to run tests"},{status:405})}let d=new o.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/test-generation/route",pathname:"/api/test-generation",filename:"route",bundlePath:"app/api/test-generation/route"},resolvedPagePath:"/Users/jeffnwagbo/AI Law Firm/constructa-starter-min-main/src/app/api/test-generation/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:x,staticGenerationAsyncStorage:l,serverHooks:g}=d,q="/api/test-generation/route";function f(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:l})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[418,396,609,91],()=>t(458));module.exports=s})();