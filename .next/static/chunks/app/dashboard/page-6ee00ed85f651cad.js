(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{6731:function(e,t,s){Promise.resolve().then(s.bind(s,9211))},6589:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(7503).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},9211:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var a=s(9231),i=s(9862),r=s(5885),l=s(7503);let c=(0,l.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var n=s(7253);let d=(0,l.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,l.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),x=(0,l.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var h=s(6589);let m=(0,l.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=s(3029),g=s(6329),p=s(9910);function y(e){let{className:t,variant:s="default",width:i,height:r,lines:l=1,...c}=e,n="skeleton bg-gray-800 animate-pulse";return"text"===s&&l>1?(0,a.jsx)("div",{className:(0,p.cn)("space-y-2",t),...c,children:Array.from({length:l}).map((e,t)=>(0,a.jsx)("div",{className:(0,p.cn)(n,"h-4 rounded",t===l-1?"w-3/4":"w-full"),style:{width:t===l-1?"75%":i,height:r||"1rem"}},t))}):(0,a.jsx)("div",{className:(0,p.cn)(n,{default:"rounded",text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-none"}[s],t),style:{width:i,height:r},...c})}function j(){return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)("div",{className:"card-glossy p-6 rounded-lg animate-fade-in",children:[(0,a.jsx)(y,{variant:"text",width:100,height:12,className:"mb-2"}),(0,a.jsx)(y,{variant:"text",width:60,height:32})]},t))})}function f(){return(0,a.jsx)("div",{className:"space-y-1",children:Array.from({length:5}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 animate-fade-in",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,a.jsx)(y,{variant:"circular",width:40,height:40}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(y,{variant:"text",width:"60%",height:16}),(0,a.jsx)(y,{variant:"text",width:"40%",height:12})]}),(0,a.jsx)(y,{variant:"text",width:80,height:12}),(0,a.jsx)(y,{variant:"text",width:100,height:12}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y,{variant:"rectangular",width:24,height:24,className:"rounded"}),(0,a.jsx)(y,{variant:"rectangular",width:24,height:24,className:"rounded"}),(0,a.jsx)(y,{variant:"rectangular",width:24,height:24,className:"rounded"})]})]},t))})}function v(){return(0,a.jsxs)("div",{className:"flex items-center justify-between py-6 animate-fade-in",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(y,{variant:"text",width:200,height:24,className:"mb-2"}),(0,a.jsx)(y,{variant:"text",width:300,height:16})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(y,{variant:"rectangular",width:100,height:24,className:"rounded"}),(0,a.jsx)(y,{variant:"rectangular",width:140,height:40,className:"rounded"})]})]})}let N=(0,l.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),w=(0,l.Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function b(e){let{text:t,children:s,className:r,variant:l="icon",size:c="md",onCopy:n}=e,[d,o]=(0,i.useState)(!1),[x,h]=(0,i.useState)(!1),m=async()=>{try{await navigator.clipboard.writeText(t),o(!0),h(!0),null==n||n(),setTimeout(()=>{h(!1),setTimeout(()=>o(!1),1e3)},200)}catch(s){console.error("Failed to copy text:",s);let e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy"),o(!0),h(!0),null==n||n()}catch(e){console.error("Fallback copy failed:",e)}document.body.removeChild(e)}},u={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return"icon"===l?(0,a.jsx)("button",{onClick:m,className:(0,p.cn)("p-2 rounded transition-all duration-200 hover:bg-silver hover:bg-opacity-20","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50",x&&"scale-110",r),title:d?"Copied!":"Copy to clipboard","aria-label":d?"Copied to clipboard":"Copy to clipboard",children:d?(0,a.jsx)(N,{className:(0,p.cn)(u[c],"text-green-400 animate-scale-in")}):(0,a.jsx)(w,{className:(0,p.cn)(u[c],"text-gray-light hover:text-silver")})}):"button"===l?(0,a.jsx)("button",{onClick:m,className:(0,p.cn)("inline-flex items-center gap-2 px-3 py-2 rounded transition-all duration-200","bg-black border border-silver text-silver hover:bg-silver hover:text-black","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50",x&&"scale-105",r),disabled:x,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N,{className:(0,p.cn)(u[c],"text-green-400 animate-scale-in")}),(0,a.jsx)("span",{children:"Copied!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(w,{className:u[c]}),(0,a.jsx)("span",{children:s||"Copy"})]})}):(0,a.jsxs)("button",{onClick:m,className:(0,p.cn)("inline-flex items-center gap-1 text-silver hover:text-white transition-colors","border-b border-dotted border-silver hover:border-white","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50 rounded",x&&"animate-pulse",r),children:[(0,a.jsx)("span",{children:s||t}),d?(0,a.jsx)(N,{className:(0,p.cn)(u[c],"text-green-400 animate-scale-in")}):(0,a.jsx)(w,{className:(0,p.cn)(u[c],"opacity-60")})]})}function k(e){let{id:t,className:s}=e;return(0,a.jsxs)("div",{className:(0,p.cn)("inline-flex items-center gap-2 text-sm",s),children:[(0,a.jsxs)("span",{className:"font-mono text-gray-light",children:[t.slice(0,8),"..."]}),(0,a.jsx)(b,{text:t,variant:"icon",size:"sm",className:"opacity-60 hover:opacity-100"})]})}var C=s(9887),D=s(6786);function z(){let[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)({totalDocs:0,completedDocs:0,draftDocs:0,dailyUsage:{docs_created:0,docs_remaining:3}}),[y,N]=(0,i.useState)(!0),[w,b]=(0,i.useState)(null);(0,i.useEffect)(()=>{(async()=>{let{data:{user:e}}=await C.O.auth.getUser();b(e),e&&await Promise.all([z(e.id),_(e.id)]),N(!1)})()},[]);let z=async e=>{try{let{data:s,error:a}=await C.O.from("docs").select("*").eq("user_id",e).order("updated_at",{ascending:!1});if(a)throw a;t(s||[])}catch(e){console.error("Error fetching documents:",e)}},_=async e=>{try{let[{data:t},s]=await Promise.all([C.O.from("docs").select("status").eq("user_id",e),(0,D.TA)(e)]),a=(null==t?void 0:t.length)||0,i=(null==t?void 0:t.filter(e=>"completed"===e.status).length)||0,r=(null==t?void 0:t.filter(e=>"draft"===e.status).length)||0;l({totalDocs:a,completedDocs:i,draftDocs:r,dailyUsage:s})}catch(e){console.error("Error fetching stats:",e)}},M=async s=>{if(confirm("Are you sure you want to delete this document?"))try{let{error:a}=await C.O.from("docs").delete().eq("id",s);if(a)throw a;t(e.filter(e=>e.id!==s)),w&&await _(w.id)}catch(e){console.error("Error deleting document:",e)}},Z=e=>{switch(e){case"completed":return"text-green-400";case"generating":return"text-yellow-400";case"draft":default:return"text-gray-light";case"error":return"text-red-400"}},S=e=>{switch(e){case"completed":return"✓";case"generating":return"⏳";case"draft":default:return"\uD83D\uDCDD";case"error":return"❌"}};return y?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)("header",{className:"border-b border-gray-light",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsx)(v,{})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsx)(j,{}),(0,a.jsxs)("div",{className:"card-glossy rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-light",children:(0,a.jsx)("div",{className:"h-6 w-48 skeleton rounded animate-fade-in"})}),(0,a.jsx)(f,{})]})]})]}):w?(0,a.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,a.jsx)("header",{className:"border-b border-gray-light",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center py-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-gray-light mt-1",children:"Manage your legal documents"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(g.N,{docsCreated:s.dailyUsage.docs_created,docsRemaining:s.dailyUsage.docs_remaining,compact:!0}),(0,a.jsx)(r.default,{href:"/new",children:(0,a.jsxs)(u.z,{className:"gap-2",children:[(0,a.jsx)(c,{size:16}),"New Document"]})})]})]})})}),(0,a.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",children:[(0,a.jsx)("h3",{className:"text-silver text-sm font-medium",children:"Total Documents"}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-white mt-2",children:s.totalDocs})]}),(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.1s"},children:[(0,a.jsx)("h3",{className:"text-silver text-sm font-medium",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-green-400 mt-2",children:s.completedDocs})]}),(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.2s"},children:[(0,a.jsx)("h3",{className:"text-silver text-sm font-medium",children:"Drafts"}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-yellow-400 mt-2",children:s.draftDocs})]}),(0,a.jsx)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.3s"},children:(0,a.jsx)(g.N,{docsCreated:s.dailyUsage.docs_created,docsRemaining:s.dailyUsage.docs_remaining})})]}),(0,a.jsxs)("div",{className:"card-glossy rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-light",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Your Documents"})}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.Z,{className:"mx-auto h-12 w-12 text-gray-light mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No documents yet"}),(0,a.jsx)("p",{className:"text-gray-light mb-6",children:"Get started by creating your first legal document"}),(0,a.jsx)(r.default,{href:"/new",children:(0,a.jsxs)(u.z,{className:"gap-2",children:[(0,a.jsx)(c,{size:16}),"Create Document"]})})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-900",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Document"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Updated"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-light",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-900 hover:bg-opacity-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.Z,{className:"h-5 w-5 text-silver mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:e.title}),(0,a.jsx)(k,{id:e.id,className:"mt-1"})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-silver",children:(0,p.rh)(e.doc_type)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm ".concat(Z(e.status)),children:[S(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-light",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d,{size:12}),(0,p.o0)(e.updated_at)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(r.default,{href:"/doc/".concat(e.id),children:(0,a.jsx)(u.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(o,{size:14})})}),(0,a.jsx)(r.default,{href:"/doc/".concat(e.id,"/edit"),children:(0,a.jsx)(u.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(x,{size:14})})}),e.docx_url&&(0,a.jsx)(u.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsx)("a",{href:e.docx_url,download:!0,children:(0,a.jsx)(h.Z,{size:14})})}),(0,a.jsx)(u.z,{variant:"ghost",size:"sm",onClick:()=>M(e.id),className:"text-red-400 hover:text-red-300",children:(0,a.jsx)(m,{size:14})})]})})]},e.id))})]})})]})]})]}):(0,a.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Please Sign In"}),(0,a.jsx)(r.default,{href:"/auth",className:"btn-silver px-6 py-3 rounded-lg",children:"Sign In"})]})})}}},function(e){e.O(0,[811,543,767,902,540,234,744],function(){return e(e.s=6731)}),_N_E=e.O()}]);