(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[702],{2897:function(e,t,s){Promise.resolve().then(s.t.bind(s,9811,23)),Promise.resolve().then(s.bind(s,9699)),Promise.resolve().then(s.bind(s,8323)),Promise.resolve().then(s.bind(s,684))},6589:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(7503).Z)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},9699:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return r}});let a=s(924);function r(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new a.BailoutToCSRError(t);return s}},8323:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return i}});let a=s(9231),r=s(8904);function i(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let s=(0,r.getExpectedRequestStore)("next/dynamic css"),i=[];if(s.reactLoadableManifest&&t){let e=s.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));i.push(...t)}}return 0===i.length?null:(0,a.jsx)(a.Fragment,{children:i.map(e=>(0,a.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:s.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}},684:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return _}});var a=s(9231),r=s(9862),i=s(5885),l=s(7253),n=s(7503);let c=(0,n.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),d=(0,n.Z)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),o=(0,n.Z)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),h=(0,n.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var x=s(6589);let m=(0,n.Z)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var u=s(3029),g=s(6329),p=s(9910);function y(e){let{className:t,variant:s="default",width:r,height:i,lines:l=1,...n}=e,c="skeleton bg-gray-800 animate-pulse";return"text"===s&&l>1?(0,a.jsx)("div",{className:(0,p.cn)("space-y-2",t),...n,children:Array.from({length:l}).map((e,t)=>(0,a.jsx)("div",{className:(0,p.cn)(c,"h-4 rounded",t===l-1?"w-3/4":"w-full"),style:{width:t===l-1?"75%":r,height:i||"1rem"}},t))}):(0,a.jsx)("div",{className:(0,p.cn)(c,{default:"rounded",text:"h-4 rounded",circular:"rounded-full",rectangular:"rounded-none"}[s],t),style:{width:r,height:i},...n})}function f(){return(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:Array.from({length:4}).map((e,t)=>(0,a.jsxs)("div",{className:"card-glossy p-6 rounded-lg animate-fade-in",children:[(0,a.jsx)(y,{variant:"text",width:100,height:12,className:"mb-2"}),(0,a.jsx)(y,{variant:"text",width:60,height:32})]},t))})}function j(){return(0,a.jsx)("div",{className:"space-y-1",children:Array.from({length:5}).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center gap-4 p-4 animate-fade-in",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,a.jsx)(y,{variant:"circular",width:40,height:40}),(0,a.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,a.jsx)(y,{variant:"text",width:"60%",height:16}),(0,a.jsx)(y,{variant:"text",width:"40%",height:12})]}),(0,a.jsx)(y,{variant:"text",width:80,height:12}),(0,a.jsx)(y,{variant:"text",width:100,height:12}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(y,{variant:"rectangular",width:24,height:24,className:"rounded"}),(0,a.jsx)(y,{variant:"rectangular",width:24,height:24,className:"rounded"}),(0,a.jsx)(y,{variant:"rectangular",width:24,height:24,className:"rounded"})]})]},t))})}let v=(0,n.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),N=(0,n.Z)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function w(e){let{text:t,children:s,className:i,variant:l="icon",size:n="md",onCopy:c}=e,[d,o]=(0,r.useState)(!1),[h,x]=(0,r.useState)(!1),m=async()=>{try{await navigator.clipboard.writeText(t),o(!0),x(!0),null==c||c(),setTimeout(()=>{x(!1),setTimeout(()=>o(!1),1e3)},200)}catch(s){console.error("Failed to copy text:",s);let e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.select();try{document.execCommand("copy"),o(!0),x(!0),null==c||c()}catch(e){console.error("Fallback copy failed:",e)}document.body.removeChild(e)}},u={sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6"};return"icon"===l?(0,a.jsx)("button",{onClick:m,className:(0,p.cn)("p-2 rounded transition-all duration-200 hover:bg-silver hover:bg-opacity-20","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50",h&&"scale-110",i),title:d?"Copied!":"Copy to clipboard","aria-label":d?"Copied to clipboard":"Copy to clipboard",children:d?(0,a.jsx)(v,{className:(0,p.cn)(u[n],"text-green-400 animate-scale-in")}):(0,a.jsx)(N,{className:(0,p.cn)(u[n],"text-gray-light hover:text-silver")})}):"button"===l?(0,a.jsx)("button",{onClick:m,className:(0,p.cn)("inline-flex items-center gap-2 px-3 py-2 rounded transition-all duration-200","bg-black border border-silver text-silver hover:bg-silver hover:text-black","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50",h&&"scale-105",i),disabled:h,children:d?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v,{className:(0,p.cn)(u[n],"text-green-400 animate-scale-in")}),(0,a.jsx)("span",{children:"Copied!"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(N,{className:u[n]}),(0,a.jsx)("span",{children:s||"Copy"})]})}):(0,a.jsxs)("button",{onClick:m,className:(0,p.cn)("inline-flex items-center gap-1 text-silver hover:text-white transition-colors","border-b border-dotted border-silver hover:border-white","focus:outline-none focus:ring-2 focus:ring-silver focus:ring-opacity-50 rounded",h&&"animate-pulse",i),children:[(0,a.jsx)("span",{children:s||t}),d?(0,a.jsx)(v,{className:(0,p.cn)(u[n],"text-green-400 animate-scale-in")}):(0,a.jsx)(N,{className:(0,p.cn)(u[n],"opacity-60")})]})}function b(e){let{id:t,className:s}=e;return(0,a.jsxs)("div",{className:(0,p.cn)("inline-flex items-center gap-2 text-sm",s),children:[(0,a.jsxs)("span",{className:"font-mono text-gray-light",children:[t.slice(0,8),"..."]}),(0,a.jsx)(w,{text:t,variant:"icon",size:"sm",className:"opacity-60 hover:opacity-100"})]})}var k=s(9887),C=s(6786);function _(){let[e,t]=(0,r.useState)([]),[s,n]=(0,r.useState)({totalDocs:0,completedDocs:0,draftDocs:0,dailyUsage:{docs_created:0,docs_remaining:3}}),[y,v]=(0,r.useState)(!0),[N,w]=(0,r.useState)(null),[_,D]=(0,r.useState)(!1);(0,r.useEffect)(()=>{D(!0),(async()=>{let{data:{user:e}}=await k.O.auth.getUser();w(e),e&&await Promise.all([z(e.id),M(e.id)]),v(!1)})()},[]);let z=async e=>{try{let{data:s,error:a}=await k.O.from("docs").select("*").eq("user_id",e).order("updated_at",{ascending:!1});if(a)throw a;t(s||[])}catch(e){console.error("Error fetching documents:",e)}},M=async e=>{try{let[{data:t},s]=await Promise.all([k.O.from("docs").select("status").eq("user_id",e),(0,C.TA)(e)]),a=(null==t?void 0:t.length)||0,r=(null==t?void 0:t.filter(e=>"completed"===e.status).length)||0,i=(null==t?void 0:t.filter(e=>"draft"===e.status).length)||0;n({totalDocs:a,completedDocs:r,draftDocs:i,dailyUsage:s})}catch(e){console.error("Error fetching stats:",e)}},P=async s=>{if(confirm("Are you sure you want to delete this document?"))try{let{error:a}=await k.O.from("docs").delete().eq("id",s);if(a)throw a;t(e.filter(e=>e.id!==s)),N&&await M(N.id)}catch(e){console.error("Error deleting document:",e)}},S=e=>{switch(e){case"completed":return"text-green-400";case"generating":return"text-yellow-400";case"draft":default:return"text-gray-light";case"error":return"text-red-400"}},Z=e=>{switch(e){case"completed":return"✓";case"generating":return"⏳";case"draft":default:return"\uD83D\uDCDD";case"error":return"❌"}};return!_||y?(0,a.jsxs)("div",{children:[(0,a.jsx)(f,{}),(0,a.jsxs)("div",{className:"card-glossy rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-light",children:(0,a.jsx)("div",{className:"h-6 w-48 skeleton rounded animate-fade-in"})}),(0,a.jsx)(j,{})]})]}):N?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 lg:gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",children:[(0,a.jsx)("h3",{className:"text-silver text-sm font-medium",children:"Total Documents"}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-white mt-2",children:s.totalDocs})]}),(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.1s"},children:[(0,a.jsx)("h3",{className:"text-silver text-sm font-medium",children:"Completed"}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-green-400 mt-2",children:s.completedDocs})]}),(0,a.jsxs)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.2s"},children:[(0,a.jsx)("h3",{className:"text-silver text-sm font-medium",children:"Drafts"}),(0,a.jsx)("p",{className:"text-2xl lg:text-3xl font-bold text-yellow-400 mt-2",children:s.draftDocs})]}),(0,a.jsx)("div",{className:"card-glossy p-4 lg:p-6 rounded-lg animate-fade-in",style:{animationDelay:"0.3s"},children:(0,a.jsx)(g.N,{docsCreated:s.dailyUsage.docs_created,docsRemaining:s.dailyUsage.docs_remaining})})]}),(0,a.jsxs)("div",{className:"card-glossy rounded-lg overflow-hidden",children:[(0,a.jsx)("div",{className:"px-6 py-4 border-b border-gray-light",children:(0,a.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Your Documents"})}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(l.Z,{className:"mx-auto h-12 w-12 text-gray-light mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"No documents yet"}),(0,a.jsx)("p",{className:"text-gray-light mb-6",children:"Get started by creating your first legal document"}),(0,a.jsx)(i.default,{href:"/new",children:(0,a.jsxs)(u.z,{className:"gap-2",children:[(0,a.jsx)(c,{size:16}),"Create Document"]})})]}):(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full",children:[(0,a.jsx)("thead",{className:"bg-gray-900",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Document"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Type"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Updated"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-light uppercase tracking-wider",children:"Actions"})]})}),(0,a.jsx)("tbody",{className:"divide-y divide-gray-light",children:e.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-900 hover:bg-opacity-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l.Z,{className:"h-5 w-5 text-silver mr-3"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-medium text-white",children:e.title}),(0,a.jsx)(b,{id:e.id,className:"mt-1"})]})]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"text-sm text-silver",children:(0,p.rh)(e.doc_type)})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:"inline-flex items-center gap-1 text-sm ".concat(S(e.status)),children:[Z(e.status),e.status.charAt(0).toUpperCase()+e.status.slice(1)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-light",children:(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(d,{size:12}),(0,p.o0)(e.updated_at)]})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(i.default,{href:"/doc/".concat(e.id),children:(0,a.jsx)(u.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(o,{size:14})})}),(0,a.jsx)(i.default,{href:"/doc/".concat(e.id,"/edit"),children:(0,a.jsx)(u.z,{variant:"ghost",size:"sm",children:(0,a.jsx)(h,{size:14})})}),e.docx_url&&(0,a.jsx)(u.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,a.jsx)("a",{href:e.docx_url,download:!0,children:(0,a.jsx)(x.Z,{size:14})})}),(0,a.jsx)(u.z,{variant:"ghost",size:"sm",onClick:()=>P(e.id),className:"text-red-400 hover:text-red-300",children:(0,a.jsx)(m,{size:14})})]})})]},e.id))})]})})]})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-white mb-4",children:"Please Sign In"}),(0,a.jsx)("p",{className:"text-gray-light mb-6",children:"You need to sign in to access your dashboard"}),(0,a.jsx)(i.default,{href:"/auth",className:"btn-silver px-6 py-3 rounded-lg",children:"Sign In"})]})}}},function(e){e.O(0,[811,746,767,916,540,234,744],function(){return e(e.s=2897)}),_N_E=e.O()}]);